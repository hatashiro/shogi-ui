# JavaScript API Reference

## Notes

- Using JS API is completely optional in shogi-ui. What's done by JS API can
also be done by plain HTML.
- Parameters prefixed with `$` represent HTML/SVG elements.
- This document is generated by `scripts/jsdoc.py`.

## Constants

### `Shogi.komaTypes`

An array containing all possible Koma type strings.

```
@const {Array<string>}
```


It's in the following order: `王玉飛龍角馬金銀全桂圭香杏歩と`.

## Element factories

### type `SenteOption`

An option type to indicate the method is called for Sente.

```
@typedef {{sente: boolean}}
```


Set the `sente` field to `true` for Sente, and `false` for Gote.

### `Shogi.komaDiv(type, option)`

Creates a `div` element of a Koma.

```
@param {string} type One of the Koma type in `komaTypes`.
@param {SenteOption} option
@return {!Element}
```


The returned element can be used as the `$koma` parameter of other methods.

### `Shogi.boardDiv()`

Creates a `div` element of the Shogi board.

```
@return {!Element}
```


The returned element can be used as the `$board` parameter of other methods.

### `Shogi.mochigomasDiv()`

Creates a `div` element of a Mochigoma container.

```
@return {!Element}
```


The returned element can be used as the `$mochigomas` parameter of other
methods.

This method creates an empty container. Call `setMochigomas` to actually set
the Mochigoma status.

## Cell

### type `Position`

An object type representing a Koma position.

```
@typedef {{suji: number, dan: number}}
```


### `Shogi.cellAt($board, position)`

Returns the cell element at the given position.

```
@param {!Element} $board
@param {!Position} position
@return {!Element}
```


The returned element can be used as the `$cell` parameter of other methods.

### `Shogi.cellPosition($cell)`

Returns the position of a given cell.

```
@param {!Element} $cell
@return {!Position}
```


### `Shogi.highlightCell($cell)`

Highlights a cell.

```
@param {!Element} $cell
```


This method manipulates classes of the cell element.

### `Shogi.unhighlightCell($cell)`

Unhighlights a cell.

```
@param {!Element} $cell
```


This method manipulates classes of the cell element.

### `Shogi.highlightCellAt($board, position)`

Highlights the cell at the given position.

```
@param {!Element} $board
@param {!Position} position
```


### `Shogi.unhighlightCellAt($board, position)`

Unhighlights the cell at the given position.

```
@param {!Element} $board
@param {!Position} position
```


### `Shogi.cellHighlighted($cell)`

`true` if the given cell is highlighted.

```
@param {!Element} $cell
@return {boolean}
```


### `Shogi.cellHighlightedAt($board, position)`

`true` if the cell at the given position is highlighted.

```
@param {!Element} $board
@param {!Position} position
@return {boolean}
```


## Koma

### `Shogi.komaAt($board, position)`

Returns the Koma element at the given position.

```
@param {!Element} $board
@param {!Position} position
@return {?Element}
```


`null` is returned when there is no Koma at the given position.

The returned non-null element can be used as the `$koma` parameter of other
methods.

### `Shogi.komaIn($cell)`

Returns the Koma element in the given cell.

```
@param {!Element} $cell
@return {?Element}
```


It's nullable for the case where no Koma exists in the given cell.

The returned non-null element can be used as the `$koma` parameter of other
methods.

### `Shogi.selectKoma($koma)`

Select a Koma.

```
@param {!Element} $koma
```


This method manipulates classes of the Koma element.

### `Shogi.unselectKoma($koma)`

Unselect a Koma.

```
@param {!Element} $koma
```


This method manipulates classes of the Koma element.

### `Shogi.komaSelected($koma)`

`true` if the given koma is selected.

```
@param {!Element} $koma
@return {boolean}
```


### `Shogi.selectKomaAt($board, position)`

Select a Koma at the given position.

```
@param {!Element} $board
@param {!Position} position
```


It's ignored if there is no Koma at the given position.

This method manipulates classes of the existing Koma element.

### `Shogi.unselectKomaAt($board, position)`

Unselect a Koma at the given position.

```
@param {!Element} $board
@param {!Position} position
```


It's ignored if there is no Koma at the given position.

This method manipulates classes of the existing Koma element.

### `Shogi.komaSelectedAt($board, position)`

`true` if the koma at the given position is selected.

```
@param {!Element} $board
@param {!Position} position
@return {?boolean}
```


`null` is returned` when there is no Koma at the given position.

### `Shogi.putKomaAt($board, $koma, position)`

Puts a Koma at a position.

```
@param {!Element} $board
@param {!Element} $koma
@param {!Position} position
```


Any existing Koma will be replaced.

### `Shogi.removeKomaAt($board, position)`

Removes a Koma at a position.

```
@param {!Element} $board
@param {!Position} position
```


It's ignored if there is no Koma at the given position.

### `Shogi.komaType($koma)`

Returns the type of the given Koma.

```
@param {!Element} $koma
@return {string}
```


### `Shogi.komaTypeIn($cell)`

Returns the type of the Koma in the given cell.

```
@param {!Element} $cell
@return {?string}
```


`null` is returned when there is no Koma in the cell.

### `Shogi.komaTypeAt($board, position)`

Returns the type of the Koma in the given position.

```
@param {!Element} $board
@param {!Position} position
@return {?string}
```


`null` is returned when there is no Koma at the given position.

## Mochigoma

### type `Mochigoma`

An object type representing a Mochigoma status for one Koma type.

```
@typedef {{type: string, count: number}}
```


### `Shogi.setMochigomas($mochigomas, mochigomas, option)`

Sets the Mochigoma status.

```
@param {!Element} $mochigomas The Mochigoma container element.
@param {!Array<!Mochigoma>} mochigomas
@param {SenteOption} option
```


Note that the maximum length of `mochigomas` is 7. The status will be
displayed in the same order of the given objects.

This method manipulates classes of the Mochigoma container element by the
Sente option.

### `Shogi.getMochigomas($mochigomas)`

Returns the Mochigoma status.

```
@param {!Element} $mochigomas
@return {!Array<!Mochigoma>}
```


The returned array will be in the same order of the visible status.

