<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="../src/shogi.css" rel="stylesheet">
<script src="../src/shogi-compiled.js"></script>

<style>
.shogi__koma {
  display: inline-block;
  width: 80px;
  margin: 15px;
  cursor: pointer;
}
</style>

<div id="gote"></div>
<div id="sente"></div>

<script>
const $sente = document.getElementById("sente");
const $gote = document.getElementById("gote");

Shogi.komaTypes.forEach(type => {
  $sente.appendChild(Shogi.komaDiv(type, {sente: true}));
  $gote.appendChild(Shogi.komaDiv(type, {sente: false}));
});

const selected = 'shogi__koma--selected';
document.querySelectorAll('svg').forEach($koma => {
  $koma.addEventListener('click', () => {
    if (Shogi.komaSelected($koma)) {
      $koma.classList.remove(selected);
    } else {
      $koma.classList.add(selected);
    }
    console.log(Shogi.komaType($koma));
  });
});
</script>
